name: Aggressive Keep-Alive

on:
  schedule:
    # à¸£à¸±à¸™à¸—à¸¸à¸ 10 à¸™à¸²à¸—à¸µ (à¸–à¸µà¹ˆà¸à¸§à¹ˆà¸²à¹€à¸”à¸´à¸¡)
    - cron: '*/10 * * * *'
  
  workflow_dispatch:

jobs:
  aggressive-keep-alive:
    runs-on: ubuntu-latest
    
    steps:
    - name: Aggressive Ping
      run: |
        echo "ğŸš€ Aggressive keep-alive starting..."
        echo "ğŸ• Time: $(date)"
        
        # Ping multiple times with different intervals
        for i in {1..3}; do
          echo "ğŸ“¡ Ping attempt $i/3"
          curl -f -s -m 30 https://line-group-reminder-bot.onrender.com/health \
            && echo "âœ… Ping $i successful" \
            || echo "âŒ Ping $i failed"
          
          if [ $i -lt 3 ]; then
            sleep 10
          fi
        done
        
        echo "ğŸ¯ Aggressive keep-alive completed"